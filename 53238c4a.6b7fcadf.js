(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{124:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),u=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},f=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),f=r,d=p["".concat(i,".").concat(f)]||p[f]||b[f]||a;return n?o.a.createElement(d,s(s({ref:t},l),{},{components:n})):o.a.createElement(d,s({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=f;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},78:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(2),o=n(6),a=(n(0),n(124)),i={id:"kf-profiles-tenants-integration",title:"ECP Tenants and Kubeflow Profiles Integration"},s={unversionedId:"Kubeflow/architecture/kf-profiles-tenants-integration",id:"Kubeflow/architecture/kf-profiles-tenants-integration",isDocsHomePage:!1,title:"ECP Tenants and Kubeflow Profiles Integration",description:"Multi-tenancy in Kubeflow",source:"@site/docs/Kubeflow/architecture/kubeflow-profiles-tenants-integration.md",slug:"/Kubeflow/architecture/kf-profiles-tenants-integration",permalink:"/mlops/docs/Kubeflow/architecture/kf-profiles-tenants-integration",editUrl:"https://github.com/nataliiaskopiuk/mlops/edit/master/docs/Kubeflow/architecture/kubeflow-profiles-tenants-integration.md",version:"current",sidebar:"someSidebar",previous:{title:"Kubeflow Components",permalink:"/mlops/docs/Kubeflow/architecture/kf-components"},next:{title:"Kubeflow Requirements",permalink:"/mlops/docs/Kubeflow/deployment/kf-requirements"}},c=[{value:"Multi-tenancy in Kubeflow",id:"multi-tenancy-in-kubeflow",children:[]},{value:"Multi-tenancy with Tenant-Profile integration",id:"multi-tenancy-with-tenant-profile-integration",children:[]},{value:"Adding Contributors with the config map",id:"adding-contributors-with-the-config-map",children:[]}],l={rightToc:c};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h3",{id:"multi-tenancy-in-kubeflow"},"Multi-tenancy in Kubeflow"),Object(a.b)("p",null,"Starting with v1.1.0 Kubeflow supports multi-user isolation, which applies access control over namespaces and user-created resources in a deployment. "),Object(a.b)("h4",{id:"key-concepts"},"Key concepts"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Administrator:")," An administrator is someone who creates and maintains the Kubeflow cluster. This person has the permission to grant access permissions to others. "),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"User:")," A user is someone who has access to some set of resources in the cluster. A user needs to be granted access permissions by the administrator. "),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Profile:")," A profile is a grouping of all Kubernetes clusters owned by a user. It is based on Kubernetes Namespace objects. "),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Owner:")," A user who creates the profile manually or automatically by following registration flow. The owner has the permission to grant contributor permissions to other users. "),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Contributor:")," A user who is able to work with a profile without being its owner. "),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Registration flow:")," When a user signs into Kubeflow Dashboard without having a profile it\u2019s proposed to create a new one automatically. It is enabled by default but can be disabled by the administrator. "),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"Source:")," ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.kubeflow.org/docs/components/multi-tenancy/overview/"}),"Kubeflow v1.2 Docs")," "),Object(a.b)("h3",{id:"multi-tenancy-with-tenant-profile-integration"},"Multi-tenancy with Tenant-Profile integration"),Object(a.b)("p",null,"When a new tenant is created, Tenant-Profile integration automatically creates a new Kubeflow profile.  "),Object(a.b)("p",null,"Owner of all tenant-based profiles is always a special user (example: \u201cadmin\u201d). "),Object(a.b)("p",null,"To grant contributors access to the profile an administrator needs to add them either to Tenant CR\u2019s \u201cuserlist\u201d field or user config map. "),Object(a.b)("p",null,"Current version of Kubeflow does not support groups.  "),Object(a.b)("p",null,"Unless Registration flow is disabled user needs to create a personal profile to be able to switch namespace to tenant-based profile.  "),Object(a.b)("h3",{id:"adding-contributors-with-the-config-map"},"Adding Contributors with the config map"),Object(a.b)("p",null,"To add contributors an administrator needs to create a config map in the tenant's namespace named \u201ckubeflow-users-cm\u201d with a line-separated list of users in the field \u201cusers\u201d. "),Object(a.b)("p",null,"Example: "),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: kubeflow-users-cm\n  namespace: <tenant_namespace>\ndata:\n  users: |\n    nkili\n    dev1\n    qa1\n")),Object(a.b)("p",null,"After config map is created role binding is created per user, for example: "),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"$ kubectl get rolebindings -n <tenant_namespace> | grep <user_name>\n  user-<user_name>-clusterrole-edit-cf4b9chf5t ClusterRole/kubeflow-edit 17s\n")))}u.isMDXComponent=!0}}]);