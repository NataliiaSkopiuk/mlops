<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<title data-react-helmet="true">Kubeflow Introduction | Ezmeral MLOps!</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Kubeflow Introduction | Ezmeral MLOps!"><meta data-react-helmet="true" name="description" content="Kubeflow"><meta data-react-helmet="true" property="og:description" content="Kubeflow"><meta data-react-helmet="true" property="og:url" content="https://nataliiaskopiuk.github.io//mlops/docs/Kubeflow/architecture/kf-basics"><link data-react-helmet="true" rel="shortcut icon" href="/mlops/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://nataliiaskopiuk.github.io//mlops/docs/Kubeflow/architecture/kf-basics"><link rel="stylesheet" href="/mlops/styles.943d68c1.css">
<link rel="preload" href="/mlops/styles.dc755294.js" as="script">
<link rel="preload" href="/mlops/runtime~main.6e6a8427.js" as="script">
<link rel="preload" href="/mlops/main.0a57cf6f.js" as="script">
<link rel="preload" href="/mlops/1.5f51df27.js" as="script">
<link rel="preload" href="/mlops/2.9505c9b7.js" as="script">
<link rel="preload" href="/mlops/3.0351f36e.js" as="script">
<link rel="preload" href="/mlops/1be78505.db9eeb05.js" as="script">
<link rel="preload" href="/mlops/68.fd3e1714.js" as="script">
<link rel="preload" href="/mlops/935f2afb.d031f374.js" as="script">
<link rel="preload" href="/mlops/17896441.fb9b2a1f.js" as="script">
<link rel="preload" href="/mlops/201a12af.3c7f5eaa.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/mlops/"><img class="navbar__logo" src="/mlops/img/logo.svg" alt="Learn MLOps!"><strong class="navbar__title">Learn MLOps!</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mlops/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/mlops/"><img class="navbar__logo" src="/mlops/img/logo.svg" alt="Learn MLOps!"><strong class="navbar__title">Learn MLOps!</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/mlops/docs/">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/prereqs">Prerequisites</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Airflow</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">AF Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Airflow/architecture/af-basics">Airflow Introduction</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Kubeflow</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">KF Architecture</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/mlops/docs/Kubeflow/architecture/kf-basics">Kubeflow Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mlops/docs/Kubeflow/architecture/kf-components">Kubeflow Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mlops/docs/Kubeflow/architecture/kf-profiles-tenants-integration">ECP Tenants and Kubeflow Profiles Integration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">KF Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/deployment/kf-requirements">Kubeflow Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/deployment/kf-installation-steps">Kubeflow Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/deployment/kf-images-list">List of Kubeflow images</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">K8s Admin Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/k8s-admin-tutorials/prometheus-tutorial">Istio Prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/k8s-admin-tutorials/kiali-tutorial">Istio Kiali</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/k8s-admin-tutorials/grafana-tutorial">Istio Grafana</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">User Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/user-tutorials/kf-ui-access">Login to Kubeflow Dashboard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/user-tutorials/gh-issue-sum-tutorial-p1">GitHub Issue Summarization Example. Part 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/user-tutorials/gh-issue-sum-tutorial-p2">GitHub Issue Summarization Example. Part 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/user-tutorials/hdfs-access">User Access to Data in HDFS</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">KF Known Issues</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/Kubeflow/known-issues/kf-known-issues">Kubeflow Known Issues</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">KubeDirector</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">KD Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/about-kd/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/about-kd/concepts">Concepts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Lab Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/lab/overview">Lab Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/lab/install1">Install - Part 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/lab/install2">Install - Part 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/lab/install3">Install - Part 3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/lab/advanced">Advanced Usage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Using KD</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-user/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-user/using">Using KD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-user/storage">Using Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-user/configuring">Configuring KD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-user/ref">Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">KD Image Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/defaultpersistdirs">Default Persistence Directories</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/customdockerimage">Custom Docker Images 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/customdockerimage2">Custom Docker Images 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/configpackage">Config Package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/configcli">Config CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/hpecp_kd_app">HPE Ezmeral CP (optional)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/nifi">Creating a NiFi Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/connections">Secrets, ConfigMaps, Connections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-img-dev/more">More coming soon</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">KD Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mlops/docs/kd-dev/overview">Overview</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Kubeflow Introduction</h1></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="kubeflow"></a>Kubeflow<a aria-hidden="true" tabindex="-1" class="hash-link" href="#kubeflow" title="Direct link to heading">#</a></h3><p>Kubeflow is the machine learning (ML) toolkit for Kubernetes. It makes deployments of ML workflows on Kubernetes simple, portable and scalable.
Kubeflow includes:</p><ul><li><p>Services for spawning and managing Jupyter notebooks. Use notebooks for interactive data science and experimenting with ML workflows.</p></li><li><p>Kubeflow Pipelines is a platform for building, deploying, and managing multi-step ML workflows based on Docker containers.</p></li><li><p>Kubeflow offers several components that you can use to build your ML training, hyperparameter tuning, and serving workloads.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="conceptual-overview"></a>Conceptual overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conceptual-overview" title="Direct link to heading">#</a></h3><p>Kubeflow builds on Kubernetes as a system for deploying, scaling, and managing complex systems. The following diagram shows Kubeflow as a platform for arranging the components of your ML system on top of Kubernetes:</p><p><img alt="Kubeflow Diagram" src="/mlops/assets/images/kf-diagram-6c400eba1208003e72a9428bc9e05e7a.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="kubeflow-resources"></a>Kubeflow resources<a aria-hidden="true" tabindex="-1" class="hash-link" href="#kubeflow-resources" title="Direct link to heading">#</a></h3><p>Kubeflow is created and managed by Kubeflow Operator in ECP k8s Cluster.</p><p>Kubeflow Operator is based on the <a href="https://github.com/kubeflow/kfctl/blob/master/operator.md" target="_blank" rel="noopener noreferrer">open-source operator</a> that is slightly modified.
More information about the open-source Operator can be found <a href="https://docs.google.com/document/d/1vNBZOM-gDMpwTbhx0EDU6lDpyUjc7vhT3bdOWWCRjdk/edit" target="_blank" rel="noopener noreferrer">here</a>.</p><p>The Kubeflow Operator is built on top of KfDef Custom Resource (CR). </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get kfdef -n kubeflow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NAME       AGE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubeflow   4h36m</span></div></div></div></div></div><p>KfDef is a set of Kubernetes applications (resources) created by kustomize configurations. For example, Istio CRD:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get kfdef -n kubeflow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Name:      istio-crds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Kustomize Config:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Overlays:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        grafana</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        kiali</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Parameters:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Name:   namespace</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Value:  istio-system</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Name:   airgapRegistry</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Repo Ref:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Name:  manifests</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Path:  istio-1-3-1/istio-install-1-3-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div></div></div><p>Kubeflow operator pod sits in kubeflow-operator namespace.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get pods -n kubeflow-operator</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                                      READY   STATUS      RESTARTS   AGE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dex-cm-generator-hlxdf                    0/1     Completed   0          4h43m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hpecpconfig-patch-gfxhh                   0/1     Completed   0          4h43m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubeflow-operator-68bdd75b8b-q5v8j        1/1     Running     1          4h43m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">local-path-provisioner-5fd8f5bbb8-5ksm6   1/1     Running     1          4h43m</span></div></div></div></div></div><p>Below are the pods created by Kubeflow operator in Kubeflow namespace.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get pods -n kubeflow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                                                        READY   STATUS    RESTARTS   AGE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">admission-webhook-deployment-69c9b46895-rb678               1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">application-controller-stateful-set-0                       1/1     Running   1          4h42m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">argo-ui-65df8c7c84-dkjmp                                    1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">centraldashboard-5864774c5-ghrwq                            1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jupyter-web-app-deployment-7bd87b558b-zkjcs                 1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">katib-controller-7fcc95676b-4kznm                           1/1     Running   2          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">katib-db-manager-85db457c64-glxqh                           1/1     Running   2          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">katib-mysql-6c7f7fb869-5bvr8                                1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">katib-ui-65dc4cf6f5-tvmtv                                   1/1     Running   2          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kfserving-controller-manager-0                              2/2     Running   2          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metadata-db-7bfd9f7d4b-db2bn                                1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metadata-envoy-deployment-56647cf45-hjl7f                   1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metadata-grpc-deployment-5989ffcc5-dhw6t                    1/1     Running   5          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">minio-5ff57fbbb-m9c9s                                       1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ml-pipeline-688c9d4947-mr2pb                                1/1     Running   2          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ml-pipeline-persistenceagent-5c5c8b5686-rwxqr               1/1     Running   5          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ml-pipeline-scheduledworkflow-55c7dd5c86-g2m9s              1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ml-pipeline-ui-66d4b66785-hh45n                             1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ml-pipeline-viewer-controller-deployment-6f588776c8-nb2qs   1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ml-pipeline-visualizationserver-699c5fd945-4gxf6            1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mysql-7fcd5d4b9c-bqsg4                                      1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">notebook-controller-deployment-75bdc8c9b8-6pcf7             1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">profiles-deployment-84cd44986c-jb8kb                        2/2     Running   2          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pytorch-operator-6fcf6866cf-nrdvn                           1/1     Running   4          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">seldon-controller-manager-6bf8b45656-8r6hz                  1/1     Running   2          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spartakus-volunteer-558f8bfd47-wsfg9                        1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tf-job-operator-58477797f8-hnch2                            1/1     Running   4          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">workflow-controller-64fd7cffc5-sfdtx                        1/1     Running   1          4h40m</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeppelin-operator-864474fdd-r9nzt                           1/1     Running   1          4h40m</span></div></div></div></div></div><p>Kubeflow uses bootstrap scripts (there are <a href="https://github.com/mapr/private-kfctl/tree/v1.2.0-branch-mapr-5.3.0" target="_blank" rel="noopener noreferrer">private</a> and <a href="https://github.com/HPEEzmeral/kubeflow" target="_blank" rel="noopener noreferrer">public</a> GitHub repositories) to install kubeflow and related stuffs on ECP. Below are some kubernetes namespaces in which kubeflow operator creates resources.</p><p><code>auth</code> - dex for OIDC support in kubeflow</p><p><code>istio-system</code> - istio service mesh</p><p><code>knative-serving</code> - knative resources to serve models</p><p><code>kubeflow</code> - different controllers to manage resources</p><p><code>kubeflow-operator</code> - kubeflow operator deployment and local path provisioner related resources</p><p>Also, there will be a namespace created per user to create Kubernetes resources.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="kubeflow-rbac"></a>Kubeflow RBAC<a aria-hidden="true" tabindex="-1" class="hash-link" href="#kubeflow-rbac" title="Direct link to heading">#</a></h3><p>Kubeflow uses 3 <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#aggregated-clusterroles" target="_blank" rel="noopener noreferrer">aggregating cluster roles</a> (kubeflow-admin, kubeflow-edit, kubeflow-view) </p><p><img alt="Kubeflow RBAC" src="/mlops/assets/images/RBAC-ee5160e1cdb1b7d4063c7797f8358b65.png"></p><p>For understanding how RBAC is implemented in Kubeflow follow the links bellow:<br>
<a href="https://docs.google.com/document/d/11Xi-I2OqJvUuy_Zg0NskMF9GmworRDJhlu68poDgK5c/edit?pli=1#heading=h.anwlhplaqdmg" target="_blank" rel="noopener noreferrer">design doc</a>, <a href="https://github.com/yanniszark/kubeflow-community/blob/feature-auth-guideline/guidelines/auth.md" target="_blank" rel="noopener noreferrer">community guideline</a>, <a href="https://medium.com/kubeflow/enabling-kubeflow-with-enterprise-grade-auth-for-on-premise-deployments-ae7dd13a69e5" target="_blank" rel="noopener noreferrer">blog post</a>. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="customization-editing-kubeflow-manifests"></a>Customization: Editing Kubeflow Manifests<a aria-hidden="true" tabindex="-1" class="hash-link" href="#customization-editing-kubeflow-manifests" title="Direct link to heading">#</a></h3><p>Kubeflow operator uses built-in manifests for deployment.<br>
To provide the ability to modify them, a copy of manifests is being stored in the persistent volume, mounted via CSI driver.
To specify a path for local copy of manifests inside the operator path property was added.
The local path can be specified for each repository using path variable. By default, the following path is used: /mapr/kubeflow/manifests. </p><p>How it works: </p><ul><li><p>If there are files in local directory (mounted via CSI), then copying them to cache directory and ignoring built-in manifests. </p></li><li><p>If local directory (mounted via CSI) is empty or does not exist, then copying to local directory manifests which are built in. </p></li><li><p>If operator failed to access or copy files to local directory, then built-in manifests would be used. </p></li><li><p>Local directory can be specified via path property with URI for each repository. </p></li><li><p>If path property is not set, then working as it worked before. </p></li></ul><p>How to access manifests: </p><p><code>$ kubectl get pvc kubeflow-operator-manifests -n kubeflow-operator</code></p><p>copy volume name, then: </p><p><code>$ kubectl describe pv &lt;volume&gt;</code>  </p><p>copy volumePath and access it on the k8s master node (if using Embedded HPE Ezmeral Data Fabric as a storage): </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ bdmapr --root bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd mapr/mnt/hcp.mapr.cluster/&lt;volumePath&gt;/kubeflow/manifests/</span></div></div></div></div></div><p>In case of using HPE Ezmeral Data Fabric for Kubernetes cluster access tenantcli-0 pod on the K8S master node: </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl -n &lt;tenant_namespace&gt; exec -it tenantcli-0 -- su - mapr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ maprlogin password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ hadoop fs -ls /&lt;volumePath&gt;/kubeflow/manifests/</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nataliiaskopiuk/mlops/edit/master/docs/Kubeflow/architecture/kubeflow-basics.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mlops/docs/Airflow/architecture/af-basics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Airflow Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/mlops/docs/Kubeflow/architecture/kf-components"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kubeflow Components Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kubeflow" class="table-of-contents__link">Kubeflow</a></li><li><a href="#conceptual-overview" class="table-of-contents__link">Conceptual overview</a></li><li><a href="#kubeflow-resources" class="table-of-contents__link">Kubeflow resources</a></li><li><a href="#kubeflow-rbac" class="table-of-contents__link">Kubeflow RBAC</a></li><li><a href="#customization-editing-kubeflow-manifests" class="table-of-contents__link">Customization: Editing Kubeflow Manifests</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mlops/docs/">Style Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/kubedirector" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://twitter.com/bluek8s" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nataliiaskopiuk/mlops" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn KubeDirector on GitHub</a></li><li class="footer__item"><a href="https://github.com/nataliiaskopiuk/mlops" target="_blank" rel="noopener noreferrer" class="footer__link-item">KubeDirector Lab on GitHub</a></li><li class="footer__item"><a href="https://github.com/bluek8s/kubedirector" target="_blank" rel="noopener noreferrer" class="footer__link-item">KubeDirector on GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2021 Hewlett Packard Enterprise.</div></div></div></footer></div>
<script src="/mlops/styles.dc755294.js"></script>
<script src="/mlops/runtime~main.6e6a8427.js"></script>
<script src="/mlops/main.0a57cf6f.js"></script>
<script src="/mlops/1.5f51df27.js"></script>
<script src="/mlops/2.9505c9b7.js"></script>
<script src="/mlops/3.0351f36e.js"></script>
<script src="/mlops/1be78505.db9eeb05.js"></script>
<script src="/mlops/68.fd3e1714.js"></script>
<script src="/mlops/935f2afb.d031f374.js"></script>
<script src="/mlops/17896441.fb9b2a1f.js"></script>
<script src="/mlops/201a12af.3c7f5eaa.js"></script>
</body>
</html>